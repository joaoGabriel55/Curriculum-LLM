{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.yourcompany.com/recruitment/curriculum.schema.json",
  "title": "CurriculumExtraction",
  "type": "object",
  "required": [
    "personal_data",
    "professional_summary",
    "technical_skills",
    "professional_experience",
    "education",
    "certifications",
    "languages",
    "advanced_inferences"
  ],
  "properties": {
    "personal_data": {
      "type": "object",
      "required": ["full_name", "location", "email", "phone", "links"],
      "properties": {
        "full_name": {
          "type": "object",
          "required": ["value"],
          "properties": {
            "value": { "type": "string" }
          }
        },
        "location": {
          "type": "object",
          "required": ["city", "country", "remote"],
          "properties": {
            "city": { "type": ["string", "null"] },
            "country": { "type": ["string", "null"] },
            "remote": { "type": "boolean" }
          }
        },
        "email": {
          "type": "object",
          "required": ["value"],
          "properties": {
            "value": { "type": "string", "format": "email" }
          }
        },
        "phone": {
          "type": "object",
          "required": ["value"],
          "properties": {
            "value": { "type": "string" }
          }
        },
        "links": {
          "type": "object",
          "properties": {
            "github": { "type": ["string", "null"], "format": "uri" },
            "linkedin": { "type": ["string", "null"], "format": "uri" },
            "portfolio": { "type": ["string", "null"], "format": "uri" },
            "technical_blog": { "type": ["string", "null"], "format": "uri" }
          },
          "additionalProperties": false
        }
      }
    },

    "professional_summary": {
      "type": "object",
      "required": [
        "current_role",
        "estimated_years_experience",
        "primary_stack",
        "primary_area"
      ],
      "properties": {
        "current_role": {
          "type": "object",
          "required": ["value"],
          "properties": {
            "value": { "type": ["string", "null"] }
          }
        },
        "estimated_years_experience": {
          "type": "object",
          "required": ["value", "method", "confidence"],
          "properties": {
            "value": { "type": ["number", "null"], "minimum": 0 },
            "method": {
              "enum": ["date_range", "technology_usage", "role_history"]
            },
            "confidence": { "type": "number", "minimum": 0, "maximum": 1 }
          }
        },
        "primary_stack": {
          "type": "array",
          "items": { "type": "string" }
        },
        "primary_area": {
          "enum": [
            "Backend",
            "Frontend",
            "Fullstack",
            "Mobile",
            "Data",
            "DevOps"
          ]
        }
      }
    },

    "technical_skills": {
      "type": "object",
      "required": [
        "languages",
        "frameworks_and_libraries",
        "databases",
        "cloud_and_infra",
        "general_tools"
      ],
      "properties": {
        "languages": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["name", "estimated_experience_years", "level"],
            "properties": {
              "name": { "type": "string" },
              "estimated_experience_years": {
                "type": ["number", "null"],
                "minimum": 0
              },
              "level": {
                "enum": ["basic", "intermediate", "advanced"]
              }
            }
          }
        },
        "frameworks_and_libraries": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["name", "associated_stack"],
            "properties": {
              "name": { "type": "string" },
              "associated_stack": {
                "enum": ["Frontend", "Backend", "Mobile", "Data"]
              }
            }
          }
        },
        "databases": {
          "type": "object",
          "required": ["relational", "non_relational"],
          "properties": {
            "relational": {
              "type": "array",
              "items": { "type": "string" }
            },
            "non_relational": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "cloud_and_infra": {
          "type": "object",
          "required": ["providers", "tools"],
          "properties": {
            "providers": {
              "type": "array",
              "items": { "type": "string" }
            },
            "tools": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "general_tools": {
          "type": "object",
          "required": ["version_control", "ci_cd", "observability"],
          "properties": {
            "version_control": {
              "type": "array",
              "items": { "type": "string" }
            },
            "ci_cd": {
              "type": "array",
              "items": { "type": "string" }
            },
            "observability": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        }
      }
    },

    "professional_experience": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "company",
          "role",
          "period",
          "total_time_in_role_months",
          "responsibilities",
          "technologies_used"
        ],
        "properties": {
          "company": { "type": "string" },
          "role": { "type": "string" },
          "period": {
            "type": "object",
            "required": ["start", "end"],
            "properties": {
              "start": { "type": "string" },
              "end": { "type": ["string", "null"] }
            }
          },
          "total_time_in_role_months": {
            "type": ["number", "null"],
            "minimum": 0
          },
          "responsibilities": {
            "type": "array",
            "items": { "type": "string" }
          },
          "technologies_used": {
            "type": "array",
            "items": { "type": "string" }
          }
        }
      }
    },

    "education": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "course",
          "institution",
          "degree",
          "status",
          "conclusion_year"
        ],
        "properties": {
          "course": { "type": "string" },
          "institution": { "type": "string" },
          "degree": { "type": "string" },
          "status": {
            "enum": ["completed", "in_progress"]
          },
          "conclusion_year": {
            "type": ["number", "null"],
            "minimum": 1900
          }
        }
      }
    },

    "certifications": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "issuer", "year", "area"],
        "properties": {
          "name": { "type": "string" },
          "issuer": { "type": "string" },
          "year": { "type": ["number", "null"] },
          "area": {
            "enum": [
              "Cloud",
              "Backend",
              "Frontend",
              "Security",
              "Data",
              "DevOps"
            ]
          }
        }
      }
    },

    "languages": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["language", "proficiency"],
        "properties": {
          "language": { "type": "string" },
          "proficiency": {
            "enum": ["basic", "intermediate", "advanced", "fluent", "native"]
          }
        }
      }
    },

    "advanced_inferences": {
      "type": "object",
      "required": [
        "estimated_seniority",
        "environment_type",
        "experience_flags"
      ],
      "properties": {
        "estimated_seniority": {
          "type": "object",
          "required": ["value", "confidence", "criteria"],
          "properties": {
            "value": {
              "enum": ["Junior", "Mid", "Senior", "Staff"]
            },
            "confidence": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            },
            "criteria": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        },
        "environment_type": {
          "type": "object",
          "required": ["value", "confidence"],
          "properties": {
            "value": {
              "enum": ["Startup", "Enterprise", "Consultancy", "Product"]
            },
            "confidence": {
              "type": "number",
              "minimum": 0,
              "maximum": 1
            }
          }
        },
        "experience_flags": {
          "type": "object",
          "required": [
            "distributed_systems",
            "high_scale",
            "performance_optimization",
            "security"
          ],
          "properties": {
            "distributed_systems": { "type": "boolean" },
            "high_scale": { "type": "boolean" },
            "performance_optimization": { "type": "boolean" },
            "security": { "type": "boolean" }
          }
        }
      }
    }
  },
  "additionalProperties": false
}
